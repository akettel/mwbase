<div class="modal-header">
  <button type="button" class="close" ng-click="$dismiss()" aria-label="Close">
    <span aria-hidden="true">Ã—</span>
  </button>
  <h3 class="modal-title">
    Record Phone Call For {{call.participant.display_name}} ({{call.participant.study_id}}): {{call.participant.phone_number}}
  </h3>
</div>
<div class='modal-body'>
  <div class='alert alert-warning' ng-if='call.notify_count >= 4'>
    {{call.notify_count}} calls made. Use secondary contact information.
  </div>
  <form class='form-horizontal' name="call_form">

    <div class='form-group'>
      <label class="control-label col-md-1" for="date_called">Called</label>

      <div class="col-md-3">
        <p class='input-group'><input ng-model='new_call.created' type='text' class='form-control'
             datepicker-popup is-open="created_open" name='created'/>
       <span class="input-group-btn">
         <button type="button" class="btn btn-default" ng-click="created_open = !created_open">
           <i class="glyphicon glyphicon-calendar"></i>
        </button></span>
      </p>
    </div>

      <div class='col-md-8 input-group'><div class='btn-group -group btn-group-justified'>
        <label class='btn btn-warning' ng-model='new_call.outcome' btn-radio="'no_ring'">Phone Off</label>
        <label class='btn btn-warning' ng-model='new_call.outcome' btn-radio="'no_answer'">No Answer</label>
        <label class='btn btn-success' ng-model='new_call.outcome' btn-radio="'answered'">Answered</label>
      </div></div>
    </div>

    <div class='form-group'>
      <label for="comment" class="control-label col-md-1">Comment</label>
      <div class="col-md-5">
        <textarea cols='50' class='form-control' ng-model="new_call.comment" name="comment"></textarea>
      </div>
      <div class="col-md-6 text-center">
        <div ng-if="new_call.outcome == 'answered'" class="row">
          <label class="control-label col-sm-3" for="length">Length</label>
          <p class='input-group col-sm-8'>
            <input class='form-control' type="number" name='length' required min="1" max="10" ng-model='new_call.length'>
            <span class="input-group-btn"><button class='btn btn-default'>min</button></span>
          </p>
        </div>
        <button class="btn btn-highlight" ng-disabled='formDisabled()' ng-click="recordCall()">Record Call</button>
        <button class="btn btn-default" ng-click="$dismiss()">Close</button>
      </div>
    </div>


</div>
